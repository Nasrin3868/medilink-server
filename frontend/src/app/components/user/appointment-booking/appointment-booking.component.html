<div class=" min-h-screen font-sans text-gray-800">
    <app-header></app-header>
  
    <div class="container mx-auto pb-5 px-4 grid grid-cols-1 lg:grid-cols-2 gap-10">
      <!-- Left Section: Appointment Summary -->
      <div class="bg-white p-8 rounded-2xl shadow-xl space-y-6">
        <!-- Appointment Banner -->
        <!-- <div class="bg-cover bg-center rounded-xl overflow-hidden"
             style="background-image: url('https://res.cloudinary.com/dyemxd31x/image/upload/v1724348999/rr6khb6xqdsayxpnsj8e.jpg');">
          <div class="bg-black bg-opacity-60 text-white p-6 text-center">
            <h2 class="text-2xl font-semibold mb-2">Appointment Summary</h2>
            <p>Date: {{ slotDetails.time | date: 'dd/MM/yy' }}</p>
            <p>Time: {{ slotDetails.time | date: 'shortTime' }}</p>
            <p>Consultant: Dr. {{ (slotDetails.docId.firstName | capitalizeFirst) + ' ' + (slotDetails.docId.lastName | capitalizeFirst) }}</p>
            <p>Specialization: {{ slotDetails.docId.specialization }}</p>
            <p class="mt-3 bg-white text-gray-900 rounded-full inline-block px-4 py-1 font-semibold">Fee: ₹{{ slotDetails.docId.consultation_fee }}</p>
          </div>
        </div> -->
  
        <!-- Doctor Info -->
        <div class="flex items-center space-x-4">
          <img [src]="slotDetails.docId.profile_picture" alt="Doctor" class="w-16 h-16 rounded-full " />
          <div>
            <p class="text-lg font-semibold">Dr. {{ slotDetails.docId.firstName | capitalizeFirst }} {{ slotDetails.docId.lastName | capitalizeFirst }}</p>
            <p class="text-sm text-gray-600">{{ slotDetails.docId.specialization }}</p>
            <p class="text-sm text-green-600">Verified: ⭐</p>
            <!-- <p class="text-sm text-green-600">⭐ 4.9 (120 reviews)</p> -->
            <p class="text-sm text-gray-500">{{slotDetails.docId.experience}}+ years experience</p>
          </div>
        </div>
  
        <!-- Contact / Clinic Info -->
        <!-- <div class="text-sm text-gray-700 space-y-1">
          <p><strong>Clinic:</strong> Medilink Health Center</p>
          <p><strong>Location:</strong> 45, Green Avenue, Kochi</p>
          <p><strong>Phone:</strong> +91 9876543210</p>
        </div> -->
  
        <!-- Quick Details -->
        <div class="flex flex-wrap gap-3 text-sm">
          <span class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full">Online Consultation</span>
          <span class="bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full">30 mins</span>
          <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full">{{slotDetails.time | date: 'dd/MM/yy' }}</span>
          <span class="bg-orange-100 text-orange-700 px-3 py-1 rounded-full">{{ slotDetails.time | date: 'shortTime' }}</span>
          <span class="bg-pink-100 text-pink-700 px-3 py-1 rounded-full">₹{{ slotDetails.docId.consultation_fee }}</span>
        </div>
  
        <!-- Privacy and Info -->
        <div>
          <h3 class="text-xl font-semibold mb-2">Privacy & Booking Info</h3>
          <p class="mb-2">Your personal data is safe and handled securely using advanced encryption protocols.</p>
          <ul class="list-disc pl-5 text-sm space-y-1">
            <li>Experienced & verified doctors</li>
            <li>Quick & seamless appointment booking</li>
            <li>Encrypted and confidential data handling</li>
            <li>24/7 support</li>
          </ul>
        </div>
      </div>
  
      <!-- Right Section: Forms -->
    <div class="bg-white p-8 rounded-2xl shadow-xl">
        <!-- Patient Form -->
        <form [formGroup]="patient_details_form" (ngSubmit)="patient_details_form_submit()" class="space-y-4">
          <h3 class="text-2xl font-bold mb-4">Patient Details</h3>
  
          <div>
            <label for="name" class="block mb-1 font-medium">Name</label>
            <input formControlName="name" type="text" id="name"
              class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              [ngClass]="{'border-red-500': patient_details_form.get('name')?.touched && patient_details_form.get('name')?.invalid}" />
            <div *ngIf="patient_details_form.get('name')?.touched && patient_details_form.get('name')?.invalid"
              class="text-red-500 text-sm mt-1">
              <div *ngIf="patient_details_form.get('name')?.hasError('required')">*required</div>
              <div *ngIf="patient_details_form.get('name')?.hasError('minlength')">*minimum 2 characters</div>
              <div *ngIf="patient_details_form.get('name')?.hasError('pattern')">*invalid format</div>
            </div>
          </div>
  
          <div>
            <label for="email" class="block mb-1 font-medium">Email</label>
            <input formControlName="email" type="email" id="email"
              class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              [ngClass]="{'border-red-500': patient_details_form.get('email')?.touched && patient_details_form.get('email')?.invalid}" />
            <div *ngIf="patient_details_form.get('email')?.touched && patient_details_form.get('email')?.invalid"
              class="text-red-500 text-sm mt-1">
              <div *ngIf="patient_details_form.get('email')?.hasError('required')">*required</div>
              <div *ngIf="patient_details_form.get('email')?.hasError('email')">*invalid email</div>
            </div>
          </div>
  
          <div>
            <label for="age" class="block mb-1 font-medium">Age</label>
            <input formControlName="age" type="number" id="age"
              class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              [ngClass]="{'border-red-500': patient_details_form.get('age')?.touched && patient_details_form.get('age')?.invalid}" />
            <div *ngIf="patient_details_form.get('age')?.touched && patient_details_form.get('age')?.invalid"
              class="text-red-500 text-sm mt-1">
              <div *ngIf="patient_details_form.get('age')?.hasError('required')">*required</div>
              <div *ngIf="patient_details_form.get('age')?.hasError('pattern')">*invalid age</div>
            </div>
          </div>
  
          <div>
            <span class="block mb-2 font-medium">Gender</span>
            <div class="flex items-center gap-6">
              <label class="flex items-center">
                <input type="radio" formControlName="gender" value="female" class="mr-2"> Female
              </label>
              <label class="flex items-center">
                <input type="radio" formControlName="gender" value="male" class="mr-2"> Male
              </label>
            </div>
          </div>
  
          <div>
            <label for="address" class="block mb-1 font-medium">Address</label>
            <textarea formControlName="address" id="address" rows="3"
              class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              [ngClass]="{'border-red-500': patient_details_form.get('address')?.touched && patient_details_form.get('address')?.invalid}"></textarea>
            <div *ngIf="patient_details_form.get('address')?.touched && patient_details_form.get('address')?.invalid"
              class="text-red-500 text-sm mt-1">*required</div>
          </div>
  
          <div>
            <label for="reason" class="block mb-1 font-medium">Reason for Visit</label>
            <textarea formControlName="reason_for_visit" id="reason" rows="3"
              class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              [ngClass]="{'border-red-500': patient_details_form.get('reason_for_visit')?.touched && patient_details_form.get('reason_for_visit')?.invalid}"></textarea>
            <div *ngIf="patient_details_form.get('reason_for_visit')?.touched && patient_details_form.get('reason_for_visit')?.invalid"
              class="text-red-500 text-sm mt-1">*required</div>
          </div>
  
          <div class="flex justify-between ">
            <button type="button" onclick="window.history.back()"
              class="bg-gray-100 text-gray-800 px-5 py-2 rounded-lg hover:bg-gray-200">Back</button>
            <button type="submit"
              class="bg-gray-900 text-white px-5 py-2 rounded-lg hover:bg-gray-700">Confirm</button>
          </div>
        </form>
  
        <!-- Payment Form -->
        <form [formGroup]="payment_form" (ngSubmit)="payment_form_submit()" class="mt-8 space-y-4">
          <h3 class="text-xl font-bold">Payment Options</h3>
  
          <div class="flex flex-col space-y-2">
            <label class="flex items-center">
              <input type="radio" formControlName="payment_method" value="online_payment" class="mr-2"> Online Payment
            </label>
            <label class="flex items-center">
              <input type="radio" formControlName="payment_method" value="wallet_payment" class="mr-2"> Wallet Payment
            </label>
          </div>
  
          <button type="submit"
            class="w-full py-3 rounded-lg font-semibold transition"
            [disabled]="isDisable"
            [ngClass]="{
              'bg-gray-200 cursor-not-allowed': isDisable,
              'bg-gray-900 hover:bg-gray-700 text-white': !isDisable
            }">
            Proceed to Pay
          </button>
        </form>
      </div>
  
    </div>
  </div>
  